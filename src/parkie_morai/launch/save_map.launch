<launch>
  <!-- ===== 설정값 (원하면 바꿔서 실행) ===== -->
  <!-- 저장할 지도 이름(확장자 제외). 결과: <maps_dir>/<map_name>.pgm + .yaml -->
  <arg name="map_name"   default="mymap"/>
  <!-- 저장할 지도 토픽 -->
  <arg name="map_topic"  default="/map"/>
  <!-- 저장 경로: 패키지 내부 maps 디렉토리 -->
  <arg name="maps_dir"   default="$(find parkie_morai)/maps"/>

  <!-- map_saver: 저장 후 자동 종료 -->
  <node pkg="map_server" type="map_saver" name="save_map"
        args="-f $(arg maps_dir)/$(arg map_name)" output="screen">
    <!-- ROS1에서는 -t 옵션 대신 remap으로 토픽 지정 -->
    <remap from="map" to="$(arg map_topic)"/>
  </node>
</launch>
